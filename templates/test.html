<!doctype html>
<html lang="en">
  <head>
    <script>
      //variables
      const homeBtn = document.getElementById("home");
      const fangraphBtn = document.getElementById("fangraph");
      const theathleticBtn = document.getElementById("theathletic");
      const fantasyprosBtn = document.getElementById("fantasypros");
      const rotoballerBtn = document.getElementById("rotoballer");
      const searchBtn = document.getElementById("search");

      const newsQuery = document.getElementById("newsQuery");

      const newsType = document.getElementById("newsType");
      const newsDetails = document.getElementById("newsDetails");


      //array
      let newsDataArr = [];
      //apis

      homeBtn.addEventListener("click", function(){
          fetchHomeNews()
      });

      fangraphBtn.addEventListener("click", function(){

      });

      theathleticBtn.addEventListener("click", function(){

      });

      fantasyprosBtn.addEventListener("click", function(){

      });

      rotoballerBtn.addEventListener("click", function(){

      });

      searchBtn.addEventListener("click", function(){

      });

      function myFunc(vars) {
          console.log("here")
          console.log(vars)
          document.getElementById("myText").innerHTML = vars;
          const number = "123";
          document.getElementById("myText").innerHTML = number;
          return vars
      }

      function displayNews() {

          newsDetails.innerHTML = "";

          // if(newsDataArr.length == 0) {
          //     newsdetails.innerHTML = "<h5>No data found.</h5>"
          //     return;
          // }

          newsDataArr.forEach(news => {

              
              // var col = document.createElement('div');
              // col.className="col-sm-12 col-md-4 col-lg-3 p-2 card";

              // var card = document.createElement('div');
              // card.className = "p-2";

              // var image = document.createElement('img');
              // image.setAttribute("height","matchparent");
              // image.setAttribute("width","100%");
              // image.src= savantDict.image[0];

              var cardBody = document.createElement('div');
              
              // var newsHeading = document.createElement('h5');
              // newsHeading.className = "card-title";
              // newsHeading.innerHTML = news.headline;


              // var description = document.createElement('p');
              // description.className="text-muted";
              // description.innerHTML = news.description;

              // var link = document.createElement('a');
              // link.className="btn btn-dark";
              // link.setAttribute("target", "_blank");
              // link.href = news.url;
              // link.innerHTML="Read more";

              // cardBody.appendChild(newsHeading);
              // cardBody.appendChild(description);
              // cardBody.appendChild(link);

              card.appendChild(image);
              card.appendChild(cardBody);

              col.appendChild(card);

              newsDetails.appendChild(col);
          });
      }
    </script>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet"></link>
    <title>Fantasy Baseball Headlines</title>
  </head>
  <body class = "m-0 p-0">
    <div class="container-fluid"> </div>
      <!-- navbar -->
      <div> 
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
          <div class="container-fluid">
            <a class="navbar-brand text-warning" href="#">Fantasy Baseball HQ</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                  <a class="nav-link active" aria-current="page" href="#Home" id="home">Home</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" aria-current="page" href="#TheAthletic" id = "theathletic">The Athletic</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" aria-current="page" href="#RotoBaller" id="rotoballer">RotoBaller</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" aria-current="page" href="#PitchersList" id="pitcherslist">PitchersList</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" aria-current="page" href="#FantasyPros" id="fantasypros">FantasyPros</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" aria-current="page" href="#FanGraphs" id="fangraphs">FanGraphs</a>
                </li>
              </ul>
              <form class="d-flex">
                <input class="form-control me-2" type="text" id = "newsQuery" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success" type="submit" id="search">Search</button>
              </form>
            </div>
          </div>
        </nav>
        
      </div>

      <!-- news -->
      <div> 
     
    <div id="image-container"></div>
    
    <script type="text/javascript">  
        // var imagesArray = "{{ images }}";
        // alert(window["imagesArray"])
        var imagesArray = {{ d.images | tojson }}
        var descriptions = {{ d.descriptions | tojson }}
        var links = {{ d.links | tojson }}
        var headlines = {{ d.headlines | tojson }}
             
        for (let i = 0; i < imagesArray.length; i++) {

          var col = document.createElement('div');
          col.className="col-sm-12 col-md-4 col-lg-3 p-2 card";

          var card = document.createElement('div');
          card.className = "p-2";


          var container = document.getElementById('image-container');

          var newsHeading = document.createElement('h5');
          newsHeading.className = "card-title";
          newsHeading.innerHTML = headlines[i];

          var description = document.createElement('p');
          description.className="text-muted";
          description.innerHTML = descriptions[i];

          var link = document.createElement('a');
          link.className="btn btn-dark";
          link.setAttribute("target", "_blank");
          link.href = links[i];
          link.innerHTML="Read more";

          const img = document.createElement('img');
          img.src = imagesArray[i];

          
          container.appendChild(newsHeading);
          container.appendChild(description);
          container.appendChild(link);
          container.appendChild(img);

          // card.appendChild(img);
          // card.appendChild(cardBody);

          col.appendChild(card);
        }

        
    </script>
      </div>

      <!-- footer -->
      <div> </div>
    <script src="{{ url_for('static', filename='index.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>


  </body>
  
</html>